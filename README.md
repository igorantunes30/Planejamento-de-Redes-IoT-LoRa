# Planejamento-de-Redes-IoTLoRa-PIBIC2023
Título
Análise de Estratégias de Posicionamento de UAVs em Redes LPWAN
Drive:https://drive.google.com/drive/folders/1W5fpm7mea9Qav32JCuurgugXUuSvba0K?usp=sharing
# Introdução 
As comunicações sem fio têm uma grande relação com as tecnologias de Internet das coisas, um conceito relativamente novo feito para unir e conectar todos os tipos de dispositivos, serviços e mercadorias no mundo contemporâneo. Assim, a Internet das Coisas (IoT) é uma rede que conecta usuários e objetos usando dispositivos de detecção de informações e atuadores. A IoT despertou o interesse acadêmico e da indústria nos últimos anos devido ao crescimento exponencial aumento de dispositivos conectados e a necessidade de novos ou otimizados métodos para gerenciar muitos dispositivos conectados. Como resultado, espera-se que o número de dispositivos conectados atualmente seja entre 26 a 50 bilhões. Prevê-se que esta tendência acelerar ainda mais, devendo atingir cerca de 75 a 100 bilhões dispositivos conectados até 2025. Várias tecnologias IoT sem fio e topologias de rede podem suportar IoT.
Dependendo da aplicação requisitos, restrições operacionais e necessidades de cobertura, essas tecnologias podem ser classificadas em três categorias. A primeira são as tecnologias tradicionais de curto alcance, como Wi-Fi, ZigBee e Bluetooth, utilizados principalmente para alta disponibilidade e atividades de baixa latência, enquanto o consumo de energia não é uma questão chave. Como tal, são inadequados para comunicação de longo alcance. Em segundo lugar estão as soluções baseadas em celular, como 2G-4G e o futuro 5G/6G, que fornecem maior cobertura, mas demanda energia excessiva do dispositivo. Finalmente, como um resultado dos requisitos cruciais da aplicação IoT, redes de área ampla de baixa potência (LPWANs) estão surgindo como uma nova e empolgante tendência no crescimento dos sistemas de comunicação sem fio. Muitos desenvolvimentos LPWAN, como Sigfox, LoRaWAN e NB-IoT surgiram recentemente em espectro não licenciado e licenciado, tornando-se uma das principais novas tecnologias com numerosas diferenças. Suas principais características incluem grande suporte de área de cobertura e rede em grande escala com baixo de custo, longa duração e taxa de dados restrita. Juntas, essas tecnologias de IoT sem fio oferecem suporte a várias soluções de IoT para cenários externos e internos, seja implantados em áreas urbanas, suburbanas ou rurais, cobrindo muitos setores.
Muitos desses protocolos de transmissão sem fio associados à IoT são redes de alta velocidade que favorecem uso de dados de usuários móveis, como redes de longa distância (WAN) e sistemas 4G-LTE ou 5G. No entanto, nem sempre esses serviços de alta potência e alta taxa de dados são necessários, necessitando de redes LPWAN. LPWAN são sistemas projetados para trabalhar com baixas taxas de dados, mas ainda mantêm a extensa cobertura de área fornecida por redes de alta potência. Assim, uma rede privada e segura para a conexão de dispositivos de baixa potência pode ser estabelecida, mantendo os custos financeiros e consumo de bateria no mínimo. Um desses tipos de redes é o Long-Range, também conhecido como LoRa.
Neste plano de trabalho, pretende-se realizar o levantamento das estratégias de posicionamento de UAVs em uma rede LoRaWAN, com cobertura aceitável a todos os sensores da rede. Também será feito o levantamento dos modelos de propagação usados nessas simulações, aplicações e os tipos de ambiente.

# Objetivos
O principal objetivo é fazer o levantamento das estratégias de posicionamento de UAVs em uma rede LoRaWAN.
Especificamente:
1-Realizar um amplo levantamento do estado da arte das técnicas usadas no posicionamento dos gateways LoRa incluindo com o uso de UAVs.
2-Realizar o levantamento dos modelos de propagação mais usados nas simulações com rede LoRa.
3-Realizar o levantamento das aplicações e os tipos de ambiente em uso nas simulações.

# Metodologia
-Levantamento bibliográfico
-Levantamento de simulações de posicionamento de Gateways LoRa e em UAVs.
-Levantamento dos modelos de propagação para a faixa de frequências selecionada.
-Levantamento dos ambientes e aplicações de IOT-LoRa.
-Relatório Final.

# Planejamento-de-Redes-IoTLoRa-PIBIC2024
Título:
Planejamento de Redes IOT considerando eficiência energética através da seleção otimizada do controle de potência e do SF.

Drive:https://drive.google.com/drive/folders/1miaMxxWItlDAnGTQXAYcHXkXgZGBAX1M?usp=sharing
# Introdução
A Internet das coisas tem tido um rápido desenvolvimento em vários campos, como edifícios inteligentes, cidades inteligentes, monitorização da saúde e do bem-estar e monitorização da agricultura [1,2,3,4,5].Para atender aos requisitos das aplicações IoT, redes de área ampla de baixo consumo de energia (LPWANs) são projetadas para permitir comunicação de longo alcance para dispositivos de baixo consumo de energia (da ordem de mW) a baixas taxas de dados (poucos kbps) [6].Uma das tecnologias LPWAN mais utilizadas, chamada LoRaWAN,vem se apresentando como a mais amplamente implantada e adequada para aplicações de Internet das Coisas. Nessas aplicações são comumente encontrados nós sensores alimentados por fontes de bateria com vida útil finita. A implantação de um grande número desses nós que enviam tráfego esporádico aumenta as colisões, portanto sendo algo indesejado. Neste plano de trabalho, propomos implementar um algoritmo de otimização para aumentar o rendimento da rede LoRaWAN, prolongar sua vida útil e, portanto, tentar atingir alta eficiência energética. Nessa proposta de planejamento, um algoritmo de otimização multiobjetivo será formulado para maximizar o rendimento da rede e minimizar o consumo de energia preservando a confiabilidade das comunicações. Como resultados serão determinados o fator de espalhamento ideal e a configuração de potência de transmissão para todos os nós em redes LoRaWAN com vários gateways. Os resultados serão comparados a outros algoritmos relevantes do estado da arte.
# Objetivos
O principal objetivo é melhorar o desempenho da rede LORAWAN, como objetivos específicos:
Levantar o estado da arte do planejamento de redes IOT considerando eficiência energética.
Estudo da tecnologia LORAWAN.
Propor um modelo de sistema LORAWAN.
Levantar os modelos de consumo de energia LORAWAN.
Desenvolver um algoritmo multiobjetivo que selecione a melhor distribuição de SFs e a melhor potência de transmissão, considerando a eficiência energética.
Desenvolver a simulação
Analisar os resultados e comparar com o estado da arte.
# Metodologia
Realizar a pesquisa bibliográfica dos trabalhos relacionados a pesquisa proposta.
Estudar a tecnologia LORAWAN.
Pesquisar e propor um modelo de sistema LORAWAN.
Fazer o levantamento dos modelos de consumo de energia LORAWAN.
Desenvolver um algoritmo multiobjetivo que selecione a melhor distribuição de SFs e a melhor potência de transmissão, considerando a eficiência energética.
Desenvolver a simulação
Analisar os resultados e comparar com o estado da arte.
Gerar um relatório final
# Simulações de Redes LpWANs com Protocolo LoRaWAN
Este trabalho visa otimizar a redes LpWAns que usam o protocolo LoRaWAN com intuito de maximizar a vazão de dados desse tipo de rede diminuindo o consumo energético.
Para isso testes com dispositivos reais serão feitos de maneira que os parâmetros configuráveis
O protocolo LoRaWAN permite configurar diversos parâmetros para ajustar o desempenho e a eficiência da rede, especialmente em relação à cobertura, consumo de energia e taxa de transmissão. Aqui estão alguns dos principais parâmetros configuráveis:

1. Fator de Espalhamento (Spreading Factor - SF)
Descrição: Controla a relação entre a taxa de dados e a sensibilidade do receptor. Valores mais altos de SF aumentam o alcance do sinal, mas diminuem a taxa de transmissão e aumentam o tempo no ar (ToA) da mensagem, consumindo mais energia.
Intervalo: SF7 a SF12 (para a maioria dos casos).
Aplicação: Dispositivos mais distantes geralmente usam SF mais altos para melhorar a sensibilidade.
2. Taxa de Códigos de Correção de Erros (Coding Rate - CR)
Descrição: Determina a proporção de dados de correção de erros adicionados ao pacote. Um valor de CR mais alto aumenta a confiabilidade da comunicação, mas reduz a taxa de dados.
Intervalo: 4/5, 4/6, 4/7 ou 4/8.
Aplicação: CR mais altos são úteis em ambientes com muita interferência ou em áreas com alta perda de pacotes.
3. Largura de Banda (Bandwidth - BW)
Descrição: A largura de banda influencia a velocidade da comunicação e a capacidade de penetração do sinal. Larguras de banda maiores permitem taxas de dados mais rápidas, mas consomem mais energia e têm menor sensibilidade.
Valores comuns: 125 kHz, 250 kHz ou 500 kHz.
Aplicação: BW de 125 kHz é usado para maximizar a cobertura em aplicações de longo alcance, enquanto 500 kHz pode ser usado para transmissões rápidas.
4. Nível de Potência de Transmissão (Transmit Power)
Descrição: Define a potência com que o dispositivo transmite, influenciando a cobertura e o consumo de energia.
Intervalo: De 2 dBm a 20 dBm (dependendo das regulamentações locais).
Aplicação: Potências mais altas são úteis para alcançar dispositivos em locais distantes, mas aumentam o consumo de energia.
5. Intervalo de Transmissão (Duty Cycle)
Descrição: Restringe o tempo de uso do canal para evitar congestionamento e respeitar regulamentações de uso do espectro. Isso afeta o intervalo entre as transmissões e limita a quantidade de dados que podem ser enviados em um determinado tempo.
Intervalo: Depende das regulamentações da região, mas geralmente é em torno de 1% para frequências não licenciadas.
Aplicação: Útil para economizar energia e evitar interferência com outros dispositivos no mesmo espectro.
6. Classe de Dispositivo (A, B ou C)
Descrição: LoRaWAN suporta três classes de dispositivos, que variam em termos de latência e consumo de energia:
Classe A: Dispositivos enviam dados e só podem receber mensagens em duas janelas de downlink após uma transmissão uplink. É a classe mais eficiente em termos de energia.
Classe B: Dispositivos têm janelas de downlink sincronizadas em intervalos regulares.
Classe C: Dispositivos têm a janela de downlink aberta quase continuamente, consumindo mais energia, mas proporcionando a menor latência.
Aplicação: Escolher a classe adequada depende do requisito de latência da aplicação e da duração da bateria.
7. Parâmetros de Canal de Frequência
Descrição: Configura os canais de frequência de operação para evitar interferências e melhorar a confiabilidade.
Intervalo: Varia com as bandas regionais (ISM) regulamentadas, como 868 MHz (Europa) e 915 MHz (América do Norte).
Aplicação: Configurar múltiplos canais aumenta a capacidade de dispositivos e reduz a colisão de dados.
8. Número Máximo de Retransmissões (Retries)
Descrição: Define quantas vezes uma mensagem deve ser retransmitida em caso de falha no envio, o que pode aumentar a confiabilidade da comunicação.
Aplicação: Útil em áreas com interferência ou com baixa qualidade de sinal, onde uma retransmissão aumenta a probabilidade de entrega bem-sucedida.
9. Ativação (OTAA vs ABP)
Descrição: Define como os dispositivos são ativados e se conectam à rede:
OTAA (Over-The-Air Activation): A ativação é realizada através de uma troca de chaves de segurança e exige que o dispositivo suporte uma sequência de mensagens.
ABP (Activation By Personalization): Os parâmetros de segurança são predefinidos, permitindo uma conexão mais rápida.
Aplicação: OTAA é geralmente preferida pela segurança adicional, enquanto ABP pode ser útil para dispositivos fixos e ambientes de teste.
# Guia de configuração de transceptores LoRa
Aqui está um guia passo a passo para configurar seu módulo LoRa com o Arduino e realizar testes de comunicação reais:

1. Montagem do Hardware
Conecte o módulo LoRa ao Arduino, garantindo que os pinos estejam devidamente alinhados.
Certifique-se de que o módulo está firmemente encaixado para evitar mau contato.
2. Instale a Biblioteca LoRa
Abra o Arduino IDE.
Vá para Sketch > Include Library > Manage Libraries…
Na janela de Gerenciamento de Bibliotecas, procure por "LoRa" e instale a biblioteca LoRa by Sandeep Mistry. Esta biblioteca é amplamente utilizada e facilita a comunicação LoRa entre dispositivos Arduino.
3. Configuração do Código para Transmissão e Recepção
Vamos criar dois códigos: um para o transmissor e outro para o receptor.
Nota: Certifique-se de configurar a mesma frequência em ambos os dispositivos (915 MHz para América do Norte, 868 MHz para Europa, ou 433 MHz em algumas regiões).
4. Carregar o Código no Arduino
Carregue o código do transmissor em um Arduino (conectado ao módulo LoRa).
Carregue o código do receptor em outro Arduino (também com um módulo LoRa).
Verifique as conexões e garanta que os dispositivos estão a uma distância razoável para realizar o teste (alguns metros é suficiente para um primeiro teste).
5. Testando a Comunicação
Abra o Monitor Serial para ambos os Arduinos (um configurado como transmissor e o outro como receptor).

No Monitor Serial do transmissor, você verá uma mensagem indicando que o pacote foi enviado.

No Monitor Serial do receptor, você verá a mensagem recebida.

Dica: Para um teste em campo, afaste os dispositivos e observe até qual distância eles conseguem se comunicar. Modifique o fator de espalhamento (SF) e a potência de transmissão para ver como esses ajustes afetam o alcance.

6. Configuração Avançada
A biblioteca LoRa permite modificar alguns parâmetros avançados, como:
Fator de Espalhamento (SF): Ajusta a sensibilidade e a taxa de dados.
7. Considerações para Testes em Campo
Em ambientes reais, considere fatores como obstáculos físicos, interferências de outras frequências, e condições atmosféricas, que podem afetar o alcance.
Utilize um multímetro para monitorar o consumo de energia se o projeto requer otimização de bateria.
Essas instruções devem cobrir o básico e permitir que você faça testes de comunicação LoRa entre dispositivos Arduino. Se precisar de mais detalhes sobre algum parâmetro ou teste específico, estou à disposição!
# Referencias1
Lima, Wirlan G., et al. "LoRa Technology Propagation Models for IoT Network Planning in the Amazon Regions." Sensors 24.5 (2024): 1621.
Sardinha, Francisco José Correia. Recolha de Dados Meteorológicos Utilizando LoRa. MS thesis. Universidade da Madeira (Portugal), 2023.
Souza Mayrink, Marco Antônio. "Uma nova abordagem da recomendação ITU-R P. 1546 para a predição de cobertura em enlaces curtos sobre terrenos mistos." (2005).
Korde, Mridula, Jagdish Kene, and Minal Ghute. "Analysis of path loss of wireless channel with hata model." International Conference on Smart Trends in Computing and Communications. Singapore: Springer Nature Singapore, 2023.
Singh, Y. (2012). Comparison of okumura, hata and cost-231 models on the basis of path loss and signal strength. International journal of computer applications, 59(11).
Gallego-Madrid, J., Molina-Zarca, A., Sanchez-Iborra, R., Bernal-Bernabe, J., Santa, J., Ruiz, P. M., & Skarmeta-Gómez, A. F. (2020). Enhancing extensive and remote lora deployments through mec-powered drone gateways. Sensors, 20(15), 4109.
Saraereh, O. A., Alsaraira, A., Khan, I., & Uthansakul, P. (2020). Performance evaluation of UAV-enabled LoRa networks for disaster management applications. Sensors, 20(8), 2396.
Loubany, A., Lahoud, S., Samhat, A. E., & El Helou, M. (2023). Joint throughput-energy optimization in multi-gateway LoRaWAN networks. Telecommunication Systems, 84(2), 271-283.
Software Matlab para programação convexa disciplinada, versão 2.0 beta. 2013, disponível em: https://cvxr.com/cvx (acessado em: 20/03/2024).
Faisal, M. (2020). Review of flower pollination algorithm: Applications and variants. In IEEE.
Optimising performances of LoRa based IoT enabled wireless sensor network for smart agriculture
LoRa indoor coverage and performance in an industrial environment: Case study
Santos, L. C. R. (2023). Estudo e Análise do Uso de IoT para Criar uma Rede de Comunicação nos Rios da Amazônia. Master's Dissertation, Instituto de Ciências Matemáticas e de Computação, University of São Paulo, São Carlos. Retrieved 2024-08-08.
Loubany, Ali, Samer Lahoud, and Rida El Chall. "Adaptive algorithm for spreading factor selection in LoRaWAN networks with multiple gateways." Computer Networks 182 (2020): 107491.
Zanella, Andrea, et al. "Internet of things for smart cities." IEEE Internet of Things journal 1.1 (2014): 22-32.
Reynders, Brecht, Wannes Meert, and Sofie Pollin. "Power and spreading factor control in low power wide area networks." 2017 IEEE International Conference on Communications (ICC). IEEE, 2017.
Abdel-Basset, Mohamed e Laila A. Shawky. "Algoritmo de polinização de flores: uma revisão abrangente." Revisão de Inteligência Artificial 52 (2019): 2533-2557.
# Referencias2
Anzum R, Habaebi MH, Islam MR, Hakim GPN, Khandaker MU, Osman H, Alamri S, AbdElrahim E. A Multiwall Path-Loss Prediction Model Using 433 MHz LoRa-WAN Frequency to Characterize Foliage’s Influence in a Malaysian Palm Oil Plantation Environment. Sensors. 2022; 22(14):5397. https://doi.org/10.3390/s22145397
S. Hosseinzadeh, H. Larijani, K. Curtis, A. Wixted and A. Amini, "Empirical propagation performance evaluation of LoRa for indoor environment," 2017 IEEE 15th International Conference on Industrial Informatics (INDIN), Emden, Germany, 2017, pp. 26-31, doi: 10.1109/INDIN.2017.8104741.
R. Muppala, A. Navnit, S. Poondla and A. M. Hussain, "Investigation of Indoor LoRaWAN Signal Propagation for Real-World Applications," 2021 6th International Conference for Convergence in Technology (I2CT), Maharashtra, India, 2021, pp. 1-5, doi: 10.1109/I2CT51068.2021.9418173.
Azevedo JA, Mendonça F. A Critical Review of the Propagation Models Employed in LoRa Systems. Sensors. 2024; 24(12):3877. https://doi.org/10.3390/s24123877
S. Bertoldo, M. Paredes, L. Carosso, M. Allegretti and P. Savi, "Empirical indoor propagation models for LoRa radio link in an office environment," 2019 13th European Conference on Antennas and Propagation (EuCAP), Krakow, Poland, 2019, pp. 1-5.
R. Ballestrin, J. F. Feijó, M. Feldman and I. Müller, "Exploring Machine Learning Techniques for Path Loss Prediction in LoRa Networks," 2024 19th International Symposium on Wireless Communication Systems (ISWCS), Rio de Janeiro, Brazil, 2024, pp. 1-6, doi: 10.1109/ISWCS61526.2024.10639055.
S. Lavdas, L. Zacharioudakis, A. Khalifeh and Z. Zinonos, "The Effect of Temperature and Humidity on Indoor LoRa Propagation Model," 2021 17th International Conference on Distributed Computing in Sensor Systems (DCOSS), Pafos, Cyprus, 2021, pp. 374-379, doi: 10.1109/DCOSS52077.2021.00066.
